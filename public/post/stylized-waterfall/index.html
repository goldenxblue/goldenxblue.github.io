<!DOCTYPE html>
<html><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Stylized Waterfall - Golden Blue</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="The waterfall is inspired by Genshin Impact&rsquo;s waterfall.
Typically, we need to set texture tiling manually to prevent unwanted stretching.
However, there&rsquo;s a trick to achieve automatic texture tiling under certain conditions. Thatis to use object&rsquo;s scale as factors to adjust the tiling. The scale is stored in the model matrix, which is accessible via the unity_ObjectToWorld.
float objXScale = length( float3(unity_ObjectToWorld[0].x, unity_ObjectToWorld[1].x, unity_ObjectToWorld[2].x) ); float objZScale = length( float3(unity_ObjectToWorld[0].z, unity_ObjectToWorld[1]." />
	<meta property="og:image" content=""/>
	<meta property="og:url" content="https://example.com/post/stylized-waterfall/">
  <meta property="og:site_name" content="Golden Blue">
  <meta property="og:title" content="Stylized Waterfall">
  <meta property="og:description" content="The waterfall is inspired by Genshin Impact’s waterfall.
Typically, we need to set texture tiling manually to prevent unwanted stretching.
However, there’s a trick to achieve automatic texture tiling under certain conditions. Thatis to use object’s scale as factors to adjust the tiling. The scale is stored in the model matrix, which is accessible via the unity_ObjectToWorld.
float objXScale = length( float3(unity_ObjectToWorld[0].x, unity_ObjectToWorld[1].x, unity_ObjectToWorld[2].x) ); float objZScale = length( float3(unity_ObjectToWorld[0].z, unity_ObjectToWorld[1].">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2024-10-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-10-24T00:00:00+00:00">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Stylized Waterfall">
  <meta name="twitter:description" content="The waterfall is inspired by Genshin Impact’s waterfall.
Typically, we need to set texture tiling manually to prevent unwanted stretching.
However, there’s a trick to achieve automatic texture tiling under certain conditions. Thatis to use object’s scale as factors to adjust the tiling. The scale is stored in the model matrix, which is accessible via the unity_ObjectToWorld.
float objXScale = length( float3(unity_ObjectToWorld[0].x, unity_ObjectToWorld[1].x, unity_ObjectToWorld[2].x) ); float objZScale = length( float3(unity_ObjectToWorld[0].z, unity_ObjectToWorld[1].">

	
        <link href="https://example.com/css/fonts.11a1877508139eac0b5b4852ceb110c35641b3533321e66e39149e901ed5756b.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://example.com/css/main.fa747a9bb099b7bfd5d71b78a6e8ca2e23a425384e48bf533f1d357aeb61d265.css" />

	
	
		<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
		</script>

		
		<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			tex2jax: {
				inlineMath: [['$','$'], ['\\(','\\)']],
				displayMath: [['$$','$$'], ['\[','\]']],
				processEscapes: true,
				processEnvironments: true,
				skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
				TeX: { equationNumbers: { autoNumber: "AMS" },
						 extensions: ["AMSmath.js", "AMSsymbols.js"] }
			}
		});
		</script>
	

	
	

	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://example.com/">Golden Blue</a>
	</div>
	<nav>
		
		<a href="/posts">Posts</a>
		
		<a href="/about">About</a>
		
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">Stylized Waterfall</h1>
			<div class="meta">Posted on Oct 24, 2024</div>
		</div>
		

		

		<section class="body">
			<p>The waterfall is inspired by Genshin Impact&rsquo;s waterfall.</p>
<p>Typically, we need to set texture tiling manually to prevent unwanted stretching.</p>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/yZI0pg8Zf8k?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<p>However, there&rsquo;s a trick to achieve automatic texture tiling under certain conditions. Thatis to use object&rsquo;s scale as factors to adjust the tiling. The scale is stored in the model matrix, which is accessible via the <code>unity_ObjectToWorld</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">float</span> objXScale <span style="color:#f92672">=</span> <span style="color:#a6e22e">length</span>( <span style="color:#a6e22e">float3</span>(unity_ObjectToWorld[<span style="color:#ae81ff">0</span>].x, unity_ObjectToWorld[<span style="color:#ae81ff">1</span>].x, unity_ObjectToWorld[<span style="color:#ae81ff">2</span>].x) );  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">float</span> objZScale <span style="color:#f92672">=</span> <span style="color:#a6e22e">length</span>( <span style="color:#a6e22e">float3</span>(unity_ObjectToWorld[<span style="color:#ae81ff">0</span>].z, unity_ObjectToWorld[<span style="color:#ae81ff">1</span>].z, unity_ObjectToWorld[<span style="color:#ae81ff">2</span>].z) );
</span></span></code></pre></div><p>The waterfall&rsquo;s texture maintains its proper appearance without stretching, regardless of the object&rsquo;s scale.</p>


    
    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/WLJkbKaMbfA?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"
      ></iframe>
    </div>

<p>A common method to create color variation for water is to lerp color based on the depth, or sample and blend normal textures to create visual waves.
The color variance in this waterfall, however, is lerped by the luminance of a reflection cube.
<img src="/reflection-trick.png" alt="reflection-cube"></p>
<p>As for the foam, it&rsquo;s simply sampling noise textures to create masks.
<img src="/foam-mask.png" alt="foam-masks"></p>

		</section>

		<div class="post-tags">
			
			
			
		</div>
		</article>
</main>
<footer>
  <div style="display:flex"></div>
  <div class="footer-info">
    2025  © 2025 Kyle |  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>


  


</div>
    </body>
</html>
